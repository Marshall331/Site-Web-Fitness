
<div *ngIf="!loading">

  <h2 *ngIf="tache.id==0" >Nouvelle tâche</h2>
  <h2 *ngIf="tache.id" >Modifier une tâche</h2>

  <form #formulaire="ngForm"  (ngSubmit)="onSubmit(formulaire)" >
    <div class="form-group">
      <label for="nom">Nom</label>
      <input [(ngModel)]="tache.nom" required minlength="3" maxlength="50"  type="text" name="nom" id="nom" class="form-control" >
    </div>
    <div class="form-group">
      <label for="etat">Etat</label>
      <select [(ngModel)]="tache.etat" required name="etat" id="etat" class="form-control">
        <option></option>
        <option
           *ngFor="let etat of etatTache|keyvalue"
           [value]="etat.value"
        >{{etat.value}}</option>
      </select>
    </div>
    <div class="form-group">
      <label for="memo">Mémo</label>
      <textarea [(ngModel)]="tache.memo" maxlength="255" name="memo" id="memo" cols="30" rows="3" class="form-control"></textarea>
    </div>
    <div class="d-flex btn-group mt-2">
      <button [disabled]="formulaire.invalid" *ngIf="!tache.id" class="btn btn-success" type="submit" >Créer cette tâche</button>
      <button [disabled]="formulaire.invalid" *ngIf="tache.id"  class="btn btn-success" type="submit" >Modifier cette tâche</button>
      <a routerLink="/taches" class="btn btn-warning">Annuler</a>
    </div>
  </form>

</div>

